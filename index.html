<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ë¹¨ê°„íœ í…ŒìŠ¤íŠ¸</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .highlight-violation {
      background-color: #FEE2E2;
      color: #991B1B;
      font-weight: bold;
      padding: 2px 4px;
      border-radius: 3px;
    }
    .highlight-typo {
      background-color: #FEF3C7;
      color: #92400E;
      font-weight: bold;
      padding: 2px 4px;
      border-radius: 3px;
    }
  </style>
</head>
<body class="bg-gray-100 p-8">
  <h1 class="text-2xl font-bold mb-4">ğŸ” OCR í•˜ì´ë¼ì´íŠ¸ í…ŒìŠ¤íŠ¸</h1>

  <div id="result-ocr-text" class="p-4 bg-white rounded shadow leading-relaxed text-sm whitespace-pre-wrap"></div>

  <script>
    const ocrText = `
ì œí’ˆëª…: ë§›ì‡ëŠ” ë‘ìœ 
ë‚´ìš©ëŸ‰: 200ml
ì˜ì–‘ì •ë³´: ë‹¨ë°±ì§ˆ 3g
ì£¼ì˜ì‚¬í•­: ì´ ì œí’ˆì€ ìš°ìœ ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
`;

    const analysis_list = [
      {
        type: "typo",
        text_original: "ë§›ì‡ëŠ”",
        description: "ì˜¤íƒˆì ê°ì§€: 'ë§›ìˆëŠ”'ìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤.",
        suggestion: "ë§›ìˆëŠ”"
      },
      {
        type: "violation",
        text_original: "ìš°ìœ ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤",
        description: "ìš°ìœ  ë¯¸í¬í•¨ ë¬¸êµ¬ëŠ” í‘œì‹œê¸°ì¤€ì— ë”°ë¼ ê²€í†  í•„ìš”.",
        suggestion: "ì´ ì œí’ˆì€ ìš°ìœ ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤."
      }
    ];

    let finalText = ocrText;

    analysis_list.forEach(item => {
      const className = item.type === "typo" ? "highlight-typo" : "highlight-violation";
      const safeText = item.text_original.replace(/[.*+?^${}()|[\]\\]/g, "\\$&"); // ì •ê·œì‹ ì´ìŠ¤ì¼€ì´í”„
      const reg = new RegExp(safeText, "g");
      const span = `<span class="${className}">${item.text_original}</span>`;
      finalText = finalText.replace(reg, span);
    });

    document.getElementById("result-ocr-text").innerHTML = finalText;
  </script>
</body>
</html>
